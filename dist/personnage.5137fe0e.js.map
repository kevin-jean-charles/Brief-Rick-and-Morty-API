{"version":3,"sources":["personnage/js/utils.js","personnage/js/conf.js","personnage/js/personnage.js"],"names":["_types","_replaceClass","elem","prevClass","newClass","str","strReGex","RegExp","className","replace","_fetchData","url","fetch","then","response","contentType","headers","get","indexOf","json","console","log","_insertAfter","element","newElement","parentNode","insertBefore","nextSibling","_autocomplete","inp","arr","currentFocus","addEventListener","e","autocomplete_list","matchElement","i","val","value","closeAllLists","document","createElement","setAttribute","id","appendChild","length","substr","toUpperCase","innerHTML","getElementsByTagName","x","getElementById","keyCode","addActive","preventDefault","click","removeActive","classList","add","remove","elmnt","getElementsByClassName","removeChild","target","module","exports","API_LINK","location","episode","locationByType","personnages","require","Personnage","results","info","createPersonnages","addEventRadionBtn","buttons","querySelector","next","prev","textContent","dataset","bind","getDataPagination","window","scrollTo","locations","radios","querySelectorAll","forEach","radio","event","app_lists","episodes","personnage","createPersonnage","name","showCharacters","createPagintion","currentTarget","Promise","all","map","resp","res","showEpisodeDetails","body","image","status","species","episodeDetail","air_date"],"mappings":"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","file":"personnage.5137fe0e.js","sourceRoot":"..","sourcesContent":["const _types = [\"Planet\", \"Cluster\", \"Space station\", \"Microverse\", \"TV\", \"Resort\", \"Fantasy town\", \"Dream\", \"Dimension\", \"unknown\", \"Menagerie\", \"Game\", \"Customs\", \"Daycare\", \"Dwarf planet (Celestial Dwarf)\", \"Miniverse\", \"Teenyverse\", \"Box\", \"Spacecraft\", \"Artificially generated world\", \"Machine\", \"Arcade\", \"Spa\", \"Quadrant\", \"Quasar\", \"Mount\", \"Liquid\", \"Convention\", \"Woods\", \"Diegesis\", \"Non-Diegetic Alternative Reality\", \"Nightmare\", \"Asteroid\", \"Acid Plant\", \"Reality\", \"Death Star\", \"Base\"];\n  \n\nfunction _replaceClass(elem, prevClass, newClass){\n  let str = prevClass;\n  let strReGex = new RegExp(str,\"gi\");\n  elem.className = elem.className.replace(strReGex, newClass);\n}\n\nfunction _fetchData(url){\n  return fetch(url).then(function(response) {\n      var contentType = response.headers.get(\"content-type\");\n      if(contentType && contentType.indexOf(\"application/json\") !== -1) {\n        return response.json();\n      } else {\n        console.log(\"Oops, nous n'avons pas du JSON!\");\n      }\n  });\n}\n\nfunction _insertAfter(element, newElement) {\n  element.parentNode.insertBefore(newElement, element.nextSibling);\n}\n\nfunction _autocomplete(inp, arr) {\n  var currentFocus;\n  inp.addEventListener(\"input\", function(e) {\n      var autocomplete_list, \n      matchElement, i, val = this.value;\n\n      closeAllLists();\n      if (!val) { return false;}\n      currentFocus = -1;\n   \n      autocomplete_list = document.createElement(\"div\");\n      autocomplete_list.setAttribute(\"id\", this.id + \"autocomplete-list\");\n      autocomplete_list.setAttribute(\"class\", \"autocomplete-items\");\n\n      this.parentNode.appendChild(autocomplete_list);\n\n      for (i = 0; i < arr.length; i++) {\n        if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {\n          matchElement = document.createElement(\"DIV\");\n          matchElement.innerHTML = \"<strong>\" + arr[i].substr(0, val.length) + \"</strong>\";\n          matchElement.innerHTML += arr[i].substr(val.length);\n          matchElement.innerHTML += \"<input type='hidden' value='\" + arr[i] + \"'>\";\n          matchElement.addEventListener(\"click\", function(e) {\n              inp.value = this.getElementsByTagName(\"input\")[0].value;\n              closeAllLists();\n          });\n          autocomplete_list.appendChild(matchElement);\n        }\n      }\n  });\n\n  inp.addEventListener(\"keydown\", function(e) {\n      var x = document.getElementById(this.id + \"autocomplete-list\");\n      if (x) x = x.getElementsByTagName(\"div\");\n      if (e.keyCode == 40) {\n        currentFocus++;\n        addActive(x);\n      } else if (e.keyCode == 38) {\n        currentFocus--;\n        addActive(x);\n      } else if (e.keyCode == 13) {\n\n        e.preventDefault();\n        if (currentFocus > -1) {\n          if (x) x[currentFocus].click();\n        }\n      }\n  });\n\n  function addActive(x) {\n    if (!x) return false;\n    removeActive(x);\n    if (currentFocus >= x.length) currentFocus = 0;\n    if (currentFocus < 0) currentFocus = (x.length - 1);\n    x[currentFocus].classList.add(\"autocomplete-active\");\n  }\n  function removeActive(x) {\n    for (var i = 0; i < x.length; i++) {\n      x[i].classList.remove(\"autocomplete-active\");\n    }\n  }\n  function closeAllLists(elmnt) {\n    var x = document.getElementsByClassName(\"autocomplete-items\");\n    for (var i = 0; i < x.length; i++) {\n      if (elmnt != x[i] && elmnt != inp) {\n        x[i].parentNode.removeChild(x[i]);\n      }\n    }\n  }\n\n  document.addEventListener(\"click\", function (e) {\n      closeAllLists(e.target);\n  });\n}\n\nmodule.exports = {\n  _fetchData,\n  _insertAfter,\n  _replaceClass,\n  _autocomplete,\n  _types\n}","const API_LINK = {\n    location: \"https://rickandmortyapi.com/api/location\",\n    episode: \"https://rickandmortyapi.com/api/episode\",\n    locationByType: \"https://rickandmortyapi.com/api/location?type=\",\n    personnages: \"https://rickandmortyapi.com/api/character\"\n}\n\n\nmodule.exports = {\n    API_LINK\n}\n\n\n\n\n\n","const { _fetchData, _replaceClass } = require('./utils');\nconst { API_LINK } = require('./conf');\n\nclass Personnage {\n  personnages = [];\n  personnage = {};\n  info = {};\n  constructor() {\n    _fetchData(API_LINK.personnages + \"/?page=1\")\n      .then((personnages) => {\n        const { results, info } = personnages\n        this.info = info;\n        this.personnages = results;\n        this.createPersonnages(results);\n        this.addEventRadionBtn();\n        // console.log(this.personnages);\n        \n      });\n  }\n\n  \n  createPagintion(){\n    let buttons = document.querySelector('.buttons');\n    buttons.innerHTML = \"\";\n    console.log(buttons );\n    let next = document.createElement('button');\n    let prev = document.createElement('button');\n    prev.className = \"button button--red\";\n    prev.textContent = \"<< Prcédent\";\n    prev.dataset.url = this.info.prev;\n    this.info.prev === null ? prev.setAttribute('disabled', true) : ''; \n    prev.addEventListener('click', this.prev.bind(this))\n    next.className = \"button button--red\";\n    next.textContent = \"Suivant >>\";\n    next.dataset.url = this.info.next;\n    next.addEventListener('click', this.next.bind(this));\n    buttons.appendChild(prev);\n    buttons.appendChild(next);\n}\n\n\nprev(e){\n  this.getDataPagination(e);\n  window.scrollTo(0, -500);\n}\n\nnext(e){\n    this.getDataPagination(e);\n    window.scrollTo(0, 0);\n}\n\ngetDataPagination(e) {\n    if(e.target.dataset.url !== 'null'){\n        _fetchData(e.target.dataset.url)\n        .then((locations) => {\n            const {info, results} = locations;\n            this.info = info;\n            this.createPersonnages(results);\n        });\n    }else{ \n        e.target.setAttribute('disabled', true); \n    }\n}\n\n  addEventRadionBtn() {\n    let radios = document.querySelectorAll(\".radios input\")\n    radios.forEach(radio => {\n      radio.addEventListener(\"change\", (event) => {\n        let app_lists = document.querySelector(\".app_lists\");\n        if (event.target.value != \"all\") {\n          app_lists.innerHTML = \"\";\n          _fetchData(API_LINK.personnages + \"/?species=\" + event.target.value)\n          .then((personnages) => {\n            const { results } = personnages\n            this.createPersonnages(results);\n            });\n          } else{\n            this.createPersonnages(this.personnages); \n          }\n        })\n    })\n  }\n\n\ncreatePersonnages(episodes){\n  let app_lists = document.querySelector(\".app_lists\");\n  app_lists.innerHTML = \"\";\n  episodes.forEach(personnage => {\n    app_lists.innerHTML += this.createPersonnage(personnage)\n  })\n\n\nconsole.log(this.personnages);\n  app_lists.querySelectorAll(\".face__name\").forEach(name => {\n    name.addEventListener(\"click\", this.showCharacters.bind(this))\n  });\n\nthis.createPagintion()\n}\n\nshowCharacters(event) {\n    _fetchData(event.currentTarget.dataset.url)\n    .then((personnage) => {\n      this.personnage = personnage;\n      console.log(this.personnage);\n      Promise.all(this.personnage.episode.map(url => _fetchData(url)))\n        .then(resp => Promise.all(resp.map(res => res)))\n        .then(episodes => {\n          document.querySelector(\".app__modal\").innerHTML = this.showEpisodeDetails(episodes, this.personnage);\n          document.body.classList.add('modal-active');\n          document.querySelector('.close').addEventListener('click', (e) => {\n            _replaceClass(e.target.parentNode, 'two', 'out');\n            document.body.classList.remove('modal-active')\n          });\n          console.log(episodes);\n\n          // document.querySelector('.dataList').innerHTML = this.showLocationDetails(residents);\n\n        });\n    });\n}\n\n  createPersonnage(personnage) {\n    return `<div class=\"card\">\n              <div class=\"card__header\">    \n                <img src=\"${personnage.image}\" alt=''>\n                <h2 data-url=\"${personnage.url}\" class=\"face__name\">${personnage.name}</h2>\n                <h4>&dash; Bonn &dash;</h4>\n              </div>\n              <div class=\"card_body\">\n                <p> ${personnage.name}</p>\n                <p>Statut: ${personnage.status}</p>\n                <p>Espèce: ${personnage.species}</p>\n                <p>Nombre d'episode: ${personnage.episode.length}</p>\n              </div>\n            </div>`;\n  }\n\n\n  // nom, status, espèce, type, genre, planète d'origine, dernier lieux de positionnement connu, les épisodes dans le(s)quel(s) le personnage apparait\n\n  showEpisodeDetails(episodes) {\n\n    let str = `<div id=\"modal-container\" class=\"two\">\n                      <a href=\"#\" class=\"close\"></a>\n                      <div class=\"modal-background\">\n                          <div class=\"modal\">`;\n    episodes.forEach(episode => {\n      str += this.episodeDetail(episode);\n    });\n    str += `</div>\n                      </div>\n                  </div>`;\n    return str;\n  }\n\n  episodeDetail(episode) {\n    return `<div class=\"locations_details\">\n                  <div class=\"card\">\n                      <div class=\"card-body\"> \n                          <div class=\"card-date\">\n                              <span>Date de création: ${episode.air_date}</span>\n                          </div>     \n                          <div class=\"card-title\">\n                              <h3>Episode: ${episode.name}</h3>\n                          </div>\n                      </div>\n                  </div>\n              </div>`;\n  }\n}\n\nnew Personnage();\n\n"]}